# Notes API (WIP)

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø—Ä–æ—Å—Ç–æ–π REST API –¥–ª—è –∑–∞–º–µ—Ç–æ–∫, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞
**Go**, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **PostgreSQL**, **JWT‚Äë–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**, –∏
–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ `internal/`.

> ‚ö†Ô∏è **–ü—Ä–æ–µ–∫—Ç –Ω–µ –∑–∞–≤–µ—Ä—à—ë–Ω –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.**\
> –ï–≥–æ —Ü–µ–ª—å --- —Ä–∞–∑–≤–∏—Ç–∏–µ –Ω–∞–≤—ã–∫–æ–≤ backend‚Äë—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ
> –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–±–æ—Ç—ã —Å Go.

------------------------------------------------------------------------

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

    internal/
     ‚îú‚îÄ‚îÄ auth/          # JWT-—Ç–æ–∫–µ–Ω—ã, Claims
     ‚îÇ    ‚îú‚îÄ‚îÄ claims.go
     ‚îÇ    ‚îî‚îÄ‚îÄ jwt.go
     ‚îú‚îÄ‚îÄ handlers/      # HTTP-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, middleware
     ‚îÇ    ‚îú‚îÄ‚îÄ auth.go
     ‚îÇ    ‚îú‚îÄ‚îÄ errors.go
     ‚îÇ    ‚îú‚îÄ‚îÄ middleware.go
     ‚îÇ    ‚îî‚îÄ‚îÄ notes.go
     ‚îú‚îÄ‚îÄ models/        # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
     ‚îÇ    ‚îú‚îÄ‚îÄ note.go
     ‚îÇ    ‚îî‚îÄ‚îÄ user.go
     ‚îú‚îÄ‚îÄ storage/       # –†–∞–±–æ—Ç–∞ —Å –ë–î
     ‚îÇ    ‚îú‚îÄ‚îÄ db.go
     ‚îÇ    ‚îú‚îÄ‚îÄ notes.go
     ‚îÇ    ‚îî‚îÄ‚îÄ users.go
     ‚îî‚îÄ‚îÄ migrations/    # SQL-–º–∏–≥—Ä–∞—Ü–∏–∏
          ‚îú‚îÄ‚îÄ 001_create_notes.sql
          ‚îî‚îÄ‚îÄ 002_create_users.sql

    Dockerfile  
    docker-compose.yml  
    main.go  
    README.md  

------------------------------------------------------------------------

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –ø—Ä–æ—Å—Ç–æ–π –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:

### **1. handlers/**

HTTP-—Å–ª–æ–π:\
- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã\
- –≤—ã–∑—ã–≤–∞–µ—Ç –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫—É –∏–∑ storage\
- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–æ—Ç–≤–µ—Ç—ã\
- `middleware.go` –≤—ã–ø–æ–ª–Ω—è–µ—Ç JWT-–ø—Ä–æ–≤–µ—Ä–∫—É

### **2. storage/**

–°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º:\
- —Ä–∞–±–æ—Ç–∞ —Å PostgreSQL\
- –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∑–∞–º–µ—Ç–æ–∫\
- –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î (`db.go`)

### **3. auth/**

–ú–æ–¥—É–ª—å JWT:\
- –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞\
- —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Claims\
- –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

### **4. models/**

–ü—Ä–æ—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–¥–µ–ª–µ–π (DTO):\
- User\
- Note

### **5. migrations/**

SQL-—Ñ–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü notes –∏ users.

------------------------------------------------------------------------

## üìå –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (Postman)

### **1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**

POST `/auth/login`

``` json
{
  "username": "roman",
  "password": "12345"
}
```

–û—Ç–≤–µ—Ç:

``` json
{
  "token": "<jwt_token>"
}
```

------------------------------------------------------------------------

### **2. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–º–µ—Ç–∫–∏**

GET `/notes` Headers:

    Authorization: Bearer <jwt>

------------------------------------------------------------------------

### **3. –°–æ–∑–¥–∞—Ç—å –∑–∞–º–µ—Ç–∫—É**

POST `/notes`

``` json
{
  "title": "–ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞",
  "content": "–¢–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏"
}
```

------------------------------------------------------------------------

### **4. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É**

PUT `/notes/1`

``` json
{
  "title": "–û–±–Ω–æ–≤–ª–µ–Ω–æ",
  "content": "–ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç"
}
```

------------------------------------------------------------------------

### **5. –£–¥–∞–ª–∏—Ç—å –∑–∞–º–µ—Ç–∫—É**

DELETE `/notes/1`

------------------------------------------------------------------------

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### **1. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker**

    docker-compose up --build

### **2. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ**

    go mod tidy
    go run main.go

------------------------------------------------------------------------
